---
id: S-34
status: complete
step: complete
milestone: parallel-state
started: 2026-02-22
updated: 2026-02-22
tests: 11
security_tests: 0
session:
deps: S-28,S-32,S-33
---

# S-34: Manifest and Integration

## Why
The Go CLI must know about the 3 new embedded files so they get installed alongside existing content. Without manifest entries, the new files exist in src/ but are never copied to the user's .claude/ directory.

## What
Add 3 new entries to Go CLI Manifest in installer.go: `commands/gl/migrate-state.md`, `references/state-format.md`, `templates/slice-state.md`. Update manifest count in tests. End-to-end verification that all embedded content is installed correctly.

## Dependencies
- S-28: Slice State Foundation Documents (files must exist to be added to manifest)
- S-32: Migration Command (migrate-state.md must exist)
- S-33: Documentation Updates (all doc updates must be complete before manifest integration)

## Contracts
- C-90: ManifestParallelStateUpdate

## Decisions
- 2026-02-22: Updated all 6 buildTestFS helpers across 4 packages to include the 3 new entries

## Files
- internal/installer/installer.go (modified — +3 manifest entries)
- internal/installer/manifest_parallel_state_test.go (new — 323 lines, 11 tests)
- internal/installer/installer_test.go (modified — buildTestFS + count)
- internal/installer/check_test.go (modified — summary strings 35→38)
- internal/installer/circuit_breaker_infra_test.go (modified — count)
- internal/installer/doc_deprecation_test.go (modified — count)
- internal/cmd/check_test.go (modified — buildTestContentFS + summaries)
- internal/cmd/install_test.go (modified — buildTestFS)
- internal/cli/cli_test.go (modified — buildTestFS)
